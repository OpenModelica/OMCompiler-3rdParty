function(safe_tmp tmp_var set_var)
    if(DEFINED ${set_var})
        set(${tmp_var} ${${set_var}} PARENT_SCOPE)
    else()
        set(${tmp_var} "" PARENT_SCOPE)
    endif()
endfunction()

function(restore_tmp set_var tmp_var)
    if(${tmp_var} STREQUAL "")
        unset(${set_var} CACHE)
    else()
        set(${set_var} ${${tmp_var}} CACHE BOOL "Restored previous value" FORCE)
    endif()
endfunction()
